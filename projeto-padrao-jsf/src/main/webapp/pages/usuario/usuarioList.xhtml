<?xml version="1.0" encoding="ISO-8859-1" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/template/layout.xhtml">

	<ui:define name="content">

	<p:panel header="CADASTRO DE USUÁRIO">		 
		<h:form id="form-usuario">
		
		<p:toolbar>
		
		  <f:facet name="LEFT">
		    <p:commandButton onclick="PF('dlg2').show();" value="NOVO" icon=" ui-icon-circle-plus"/>
		  </f:facet>
		  
		
		</p:toolbar>
		
		   <p:dataTable value="#{usuarioController.listaUsuarios}" var="u" id="table-user">
		     <p:column headerText="Nome">
				<h:outputText value="#{u.nome}"/>
			</p:column>
		     <p:column headerText="Email">
				<h:outputText value="#{u.email}"/>
			</p:column>
		     <p:column headerText="Perfil">
				<h:outputText value="#{u.perfil}"/>
			</p:column>
		     <p:column headerText="Status">
				<h:outputText value="#{u.flAtivo}"/>
			</p:column>
		    <p:column headerText="Ações">
    			<p:commandButton title="Editar" icon="ui-icon-pencil" oncomplete="PF('dlg2').show();" action="#{usuarioController.selecionaUsuario(u)}" update=":form-usuario:modal"/>
			</p:column>
		   </p:dataTable>
		   
		   <ui:include src="/pages/usuario/usuarioForm.xhtml" />
		   
   		      
		</h:form>
    </p:panel>
		 
	</ui:define>
</ui:composition>